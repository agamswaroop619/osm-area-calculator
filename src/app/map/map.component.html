<div class="map-wrapper" (click)="onClickOutsideSuggestions($event)">
  <div class="sidebar">
    <div class="sidebar-header">
      <h3>Map Tools</h3>
    </div>
    
    <div class="sidebar-content">
      <div class="tool-section">
        <h4>Search</h4>
        <div class="search-container">
          <input
            type="text"
            [(ngModel)]="searchQuery"
            (input)="onSearchInput()"
            placeholder="Search location..."
          />
          <ul *ngIf="showSuggestions" class="search-suggestions">
            <li *ngFor="let result of searchResults" (click)="selectLocation(result)">
              {{ result.display_name }}
            </li>
          </ul>
        </div>
      </div>

      <div class="tool-section">
        <h4>Drawing Tools</h4>
        <div class="drawing-options">
          <button (click)="startDrawingPolygon()" class="tool-button">
            <i class="fas fa-draw-polygon"></i>
            Draw Polygon
          </button>
          <button (click)="startDrawingRectangle()" class="tool-button">
            <i class="fas fa-square"></i>
            Draw Rectangle
          </button>
          <button (click)="clearDrawings()" class="tool-button">
            <i class="fas fa-trash"></i>
            Clear All
          </button>
        </div>
      </div>

      <div class="tool-section" *ngIf="currentMeasurement">
        <h4>Measurements</h4>
        <div class="measurement-box">
          <p><strong>Area:</strong> {{ formatArea(currentMeasurement.area) }}</p>
          <p><strong>Perimeter:</strong> {{ formatPerimeter(currentMeasurement.perimeter) }}</p>
        </div>
      </div>
    </div>
  </div>

  <div id="map" class="map-container"></div>
</div>
